
Title  : Program C4SORT
Purpose: Sort EXFOR file in C4 format
Author : Andrej Trkov                        e-mail: A.Trkov@iaea.org
         International Atomic Energy Agency     tel: +43 1 2600 21712
         Nuclear Data Section                   fax: +43 1 2600 7
         Wagramerstrasse 5
         P.O.Box 100
         A-1400 Vienna
         AUSTRIA
Version: Original code March 2001
   01/05 Increase MXEN from 2000 to 5000 (A.Trkov)

  Program C4SORT Users' Guide
  ===========================

  The C4SORT program belongs to a group of codes, which form
  a supplement to the IAEA sequence of ENDF Pre-Processing codes
  (PrePro) by D.E.Cullen [1], which are designed to perform
  various operations on the basic ENDF-formatted evaluated nuclear
  data files. They provide basic tools to the user for simple,
  machine-independent interpretation and visualisation of the
  contents of the evaluated nuclear data files.

  The EXFOR data in computational C4 format, which are generated
  by the X4TOC4 code, are transferred to output in the order in
  which they appear in the source EXFOR file. For plotting
  purposes (for example, with PLOTC4) it is advantageous if the
  data in computational file are sorted by MAT/MF/MT numbers
  and the incident particle energy. The C4SORT code performs
  this task.

  Instructions
  ------------
  Several forms of input are allowed:

   A.  If the file "C4SORT.INP" exists, the file is scanned for
       input instructions. They may be given in the "old style"
       or in the more flexible keyword-oriented style.

   B.  If the file "C4SORT.INP" does not exist, and the first record
       on the default input does NOT begin with the string "$* ",
       then the default input is assumed to be the source EXFOR file
       and the default output is the sorted output EXFOR file.
       This allows the use of "pipes" on Unix. On PC-Dos it is
       compiler-dependent.

   C.  If the file "C4SORT.INP" does not exist, and the first record
       on the default input begins with the string "$* ", the
       default input is read as a set of keyword-oriented input
       instructions. This option is useful to divert the default
       input to a real input file from command line.
       WARNING: To use this feature make sure that C4SORT.INP file
                does not exist on the default directory.

  Old-style input instructions format:
  Two records are expected from input:
  - Name of the source EXFOR file in C4 format.
  - Name of the sorted EXFOR file to be written.

  Keyword-oriented input instructions:
  The format follows a few simple rules, which are worth noting
  - Parameters are read in columns of 10. 
  - The first 10 columns are interpreted as the keyword.
  - Records with blanks in the first 10 columns are ignored, so
    comments may be entered freely in the input file, provided
    they appear on separate records and start after column 10.
  - Only keywords that are recognised by the program are processed.
  - The absence of a keyword for a particular parameter activates
    the default value of the parameter preset in the code.
  These rules allow the input instructions for several programs to
  appear on the same input file, provided all programs follow the
  above rules. This significantly reduces input file maintenance
  for more complicated sequences of code execution and possible
  archival of the input file for Quality Assurance purposes.

  Keyword
  '$* C4SORT ' The main keyword of the C4SORT program. All
               preceeding input is ignored.
  '   FLC4IN ' Name of the source ENDF input file is given in
               columns 11-50.
  '   FLC4OU ' Name of the target ENDF output file is given in
               columns 11-50.
  '   ALIAS  ' Equivalent ZA/MF/MT identifiers can be defined;
               for example, to force experimental data measured
               for a natural element to apply to an isotope.
               Additional information is read from columns:
                11-20  ZA designation on the source file.
                21-25  MF designation on the source file.
                26-30  MT designation on the source file.
                41-50  ZA designation on the sorted file.
                51-55  MF designation on the sorted file.
                56-60  MT designation on the sorted file.
               NOTE: This option is available only in the
                     keyword-oriented input.
  '   ENDC4S ' This keyword signals the end of C4SORT input. All
               instructions that follow are ignored.

  File units:
   Name No. Description:
    LIN  1  Input instructions file, if not read from default input.
    LC4  2  Source EXFOR data file in C4 format, if not read from
            the default input.
    LOU  3  Sorted EXFOR data file in C4 format (output).
    LSC  4  C4SORT.TMP scratch file.
    LKB  5  Default input.
    LTT  6  Default output.
