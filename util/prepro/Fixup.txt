 ======================================================================= Fixup   
                                                                         Fixup   
      PROGRAM FIXUP                                                      Fixup   
      =============                                                      Fixup   
      VERSION 84-1 (NOVEMBER 1984)                                       Fixup   
      VERSION 86-1 (JANUARY 1986) *IMPROVED BASED ON USER COMMENTS       Fixup   
                                  *FORTRAN-77/H VERSION                  Fixup   
      VERSION 86-2 (JUNE 1986)    *ALLOW CREATION OF SECTIONS OF CROSS   Fixup   
                                   SECTIONS WHICH ARE NOT PRESENT IN     Fixup   
                                   THE ORIGINAL EVALUATION               Fixup   
      VERSION 88-1 (JULY 1988)    *OPTION...INTERNALLY DEFINE ALL I/O    Fixup   
                                   FILE NAMES (SEE, SUBROUTINE FILEIO    Fixup   
                                   FOR DETAILS).                         Fixup   
                                  *IMPROVED BASED ON USER COMMENTS.      Fixup   
      VERSION 89-1 (JANUARY 1989) *PSYCHOANALYZED BY PROGRAM FREUD TO    Fixup   
                                   INSURE PROGRAM WILL NOT DO ANYTHING   Fixup   
                                   CRAZY.                                Fixup   
                                  *UPDATED TO USE NEW PROGRAM CONVERT    Fixup   
                                   KEYWORDS.                             Fixup   
                                  *ADDED LIVERMORE CIVIC COMPILER        Fixup   
                                   CONVENTIONS.                          Fixup   
      VERSION 89-2 (MARCH 1989)   *ADDED ENDF-6 SUMMATION RULES AND      Fixup   
                                   DEFINED MF AND MT NUMBERS. PROGRAM    Fixup   
                                   WILL NOW USE MF=1, MT=451 TO DEFINE   Fixup   
                                   THE ENDF FORMAT OF THE DATA (E.G.,    Fixup   
                                   ENDF-6 OR EARLIER) AND USE THE        Fixup   
                                   CORRECT SUMMATION RULES FOR EACH      Fixup   
                                   VERSION OF THE ENDF FORMAT. IF        Fixup   
                                   MF=1, MT=451 IS NOT PRESENT PROGRAM   Fixup   
                                   WILL USE ENDF-6 SUMMATION             Fixup   
                                   CONVENTIONS AS A DEFAULT.             Fixup   
      VERSION 90-1 (JUNE 1990)    *UPDATED BASED ON USER COMMENTS        Fixup   
                                  *ADDED PHOTON INTERACTION, MF=23       Fixup   
      VERSION 91-1 (JUNE 1991)    *ADDED FORTRAN SAVE OPTION             Fixup   
                                  *NEW MORE CONSISTENT ENERGY OUTPUT     Fixup   
                                   ROUTINE                               Fixup   
      VERSION 92-1 (JANUARY 1992) *ADDED OPTION TO CALCULATE RATIOS,     Fixup   
                                   E.G., CAPTURE/FISSION AND PRODUCTS,   Fixup   
                                   NU-BAR*FISSION - AND OUTPUT THE       Fixup   
                                   RESULTS IN THE ENDF FORMAT (SEE,      Fixup   
                                   BELOW - CREATING RATIOS AND PRODUCTS) Fixup   
                                  *ALLOW TOTAL NU-BAR (MF=1, MT=452) TO  Fixup   
                                   BE USED IN DEFINING RATIOS OR         Fixup   
                                   PRODUCTS.                             Fixup   
                                  *ALLOW ALL CROSS SECTIONS TO BE PUT    Fixup   
                                   ON A UNIFORM ENERGY GRID.             Fixup   
                                  *NOTE, CHANGE IN INPUT FORMAT FOR      Fixup   
                                   RANGES OF MT NUMBERS                  Fixup   
                                  *COMPLETELY CONSISTENT I/O ROUTINES -  Fixup   
                                   TO MINIMIZE COMPUTER DEPENDENCE.      Fixup   
      VERSION 93-1 (JULY 1993)    *CORRECTED ALGORITHM TO CREATE UNIFORM Fixup   
                                   ENERGY GRID.                          Fixup   
      VERSION 94-1 (JANUARY 1993) *VARIABLE ENDF/B DATA FILENAMES        Fixup   
                                   TO ALLOW ACCESS TO FILE STRUCTURES    Fixup   
                                   (WARNING - INPUT PARAMETER FORMAT     Fixup   
                                   HAS BEEN CHANGED)                     Fixup   
                                  *INCREASED PAGE SIZE FROM 1002 TO      Fixup   
                                   12000 DATA POINTS.                    Fixup   
                                  *CLOSE ALL FILES BEFORE TERMINATING    Fixup   
                                   (SEE, SUBROUTINE ENDIT)               Fixup   
      VERSION 96-1 (JANUARY 1996) *COMPLETE RE-WRITE                     Fixup   
                                  *IMPROVED COMPUTER INDEPENDENCE        Fixup   
                                  *ALL DOUBLE PRECISION                  Fixup   
                                  *ON SCREEN OUTPUT                      Fixup   
                                  *UNIFORM TREATMENT OF ENDF I/O         Fixup   
                                  *IMPROVED OUTPUT PRECISION             Fixup   
                                  *DEFINED SCRATCH FILE NAMES            Fixup   
                                  *INCREASED PAGE SIZE FROM 12000 TO     Fixup   
                                   36000 DATA POINTS.                    Fixup   
      VERSION 99-1 (MARCH 1999)   *CORRECTED CHARACTER TO FLOATING       Fixup   
                                   POINT READ FOR MORE DIGITS            Fixup   
                                  *UPDATED TEST FOR ENDF FORMAT          Fixup   
                                   VERSION BASED ON RECENT FORMAT CHANGE Fixup   
                                  *GENERAL IMPROVEMENTS BASED ON         Fixup   
                                   USER FEEDBACK                         Fixup   
      VERSION 99-2 (JUNE 1999)    *ASSUME ENDF-6, NOT 5, IF MISSING      Fixup   
                                   MF=1, MT-451.                         Fixup   
                                  *FIXED CREATION OF SECTIONS            Fixup   
      VERS. 2000-1 (FEBRUARY 2000)*GENERAL IMPROVEMENTS BASED ON         Fixup   
                                   USER FEEDBACK                         Fixup   
      VERS. 2002-1 (MAY 2002)     *OPTIONAL INPUT PARAMETERS             Fixup   
                                  *SUMMATION RULES ARE DEFINED BASED     Fixup   
                                   ON CONTENTS OF TABLES.                Fixup   
      VERS. 2004-1 (JAN. 2004)    *GENERAL UPDATE BASED ON USER FEEDBACK Fixup   
                                  *INCREASED PAGE SIZE FROM 36000 TO     Fixup   
                                   60000 DATA POINTS.                    Fixup   
      VERS. 2005-1 (JAN. 2005)    *UPDATED MT CREATION TO ALLOW MAT =0   Fixup   
                                   INDICATING CREATE FOR ALL MATS.       Fixup   
      VERS. 2007-1 (JAN. 2007)    *CHECKED AGAINST ALL ENDF/B-VII DATA   Fixup   
                                  *INCREASED PAGE SIZE FROM 60,000 TO    Fixup   
                                   600,000 DATA POINTS.                  Fixup   
      VERS. 2007-2 (OCT. 2007)    *ADDED MT=16 AS SUM MT=875 THRU 891    Fixup   
                                  *72 CHARACTER FILE NAMES               Fixup   
      VERS. 2010-1 (Apr. 2010)    *Defining cross sections by summation  Fixup   
                                   to now mandatory - either build-in    Fixup   
                                   rules or by user input.               Fixup   
      VERS. 2011-1 (March 2011)   *Added new MT # to allowed and         Fixup   
                                   summation rules.                      Fixup   
      VERS. 2012-1 (Aug.  2012)   *Corrected definition of MT=3 to avoid Fixup   
                                   double counting of MT=18.             Fixup   
                                  *Extended incident particle list to    Fixup   
                                   include photon (ZA = 0).              Fixup   
                                  *Added CODENAME                        Fixup   
                                  *32 and 64 bit Compatible              Fixup   
                                  *Added ERROR stops.                    Fixup   
      VERS. 2015-1 (Jan.  2015)   *Extended OUT9.                        Fixup   
                                  *Replaced ALL 3 way IF Statements      Fixup   
                                                                         Fixup   
      VERS. 2015-2 (Oct.  2015)   *Threshold Correction no longer        Fixup   
                                   allowed = TOO DANGEROUS!!!            Fixup   
      VERS. 2017-1 (May   2017)   *Updated based on user feekback        Fixup   
                                  *Increased tables to 3,000,000.        Fixup   
                                  *All floating input parameters changed Fixup   
                                   to character input + IN9 conversion.  Fixup   
                                                                         Fixup   
      OWNED, MAINTAINED AND DISTRIBUTED BY                               Fixup   
      ------------------------------------                               Fixup   
      THE NUCLEAR DATA SECTION                                           Fixup   
      INTERNATIONAL ATOMIC ENERGY AGENCY                                 Fixup   
      P.O. BOX 100                                                       Fixup   
      A-1400, VIENNA, AUSTRIA                                            Fixup   
      EUROPE                                                             Fixup   
                                                                         Fixup   
      ORIGINALLY WRITTEN BY                                              Fixup   
      ------------------------------------                               Fixup   
      Dermott E. Cullen                                                  Fixup   
                                                                         Fixup   
      PRESENT CONTACT INFORMATION                                        Fixup   
      ---------------------------                                        Fixup   
      Dermott E. Cullen                                                  Fixup   
      1466 Hudson Way                                                    Fixup   
      Livermore, CA 94550                                                Fixup   
      U.S.A.                                                             Fixup   
      Telephone  925-443-1911                                            Fixup   
      E. Mail    RedCullen1@Comcast.net                                  Fixup   
      Website    RedCullen1.net/HOMEPAGE.NEW                             Fixup   
                                                                         Fixup   
      PURPOSE                                                            Fixup   
      =======                                                            Fixup   
      THIS PROGRAM IS DESIGNED TO READ EVALUATED DATA IN THE ENDF        Fixup   
      FORMAT, PERFORM CORRECTIONS AND OUTPUT THE RESULT IN THE ENDF      Fixup   
      FORMAT. TWO TYPES OF CORRECTIONS ARE POSSIBLE (1) AUTOMATIC AND    Fixup   
      (2) OPTIONAL (BASED ON USER INPUT) CORRECTIONS.                    Fixup   
                                                                         Fixup   
      ONE OF THE MOST IMPORTANT FUNCTIONS OF THIS PROGRAM IS TO          Fixup   
      RE-DEFINE ALL REDUNDANT CROSS SECTIONS (E.G. TOTAL) TO BE EXACTLY  Fixup   
      EQUAL TO THE SUM OF ITS PARTS. THIS PROCEDURE ELIMINATES THE       Fixup   
      PROBLEM WITH MANY ENDF EVALUATIONS, WHERE DUE TO THE USE OF        Fixup   
      NON-LINEAR INTERPOLATION LAWS THE TOTAL MAY BE EQUAL TO THE SUM    Fixup   
      OF ITS PARTS AT ALL TABULATED ENERGIES, BUT BASED ON THE           Fixup   
      INTERPOLATION LAWS IT CAN BE QUITE DIFFERENT AT ENERGIES BETWEEN   Fixup   
      TABULATED ENERGIES.                                                Fixup   
                                                                         Fixup   
      AUTOMATIC CHECKS/CORRECTIONS                                       Fixup   
      ============================                                       Fixup   
      (1) CHECK THAT MAT/MF/MT DOES NOT CHANGE UNLESS A MEND/FEND/SEND   Fixup   
          LINE IS READ. IF MAT/MF/MT CHANGES A WARNING MESSAGE IS        Fixup   
          PRINTED BUT NO CORRECTIVE ACTION IS TAKEN.                     Fixup   
      (2) ALL LINES WITHIN A GIVEN MAT WILL BE SEQUENTIALLY NUMBERED     Fixup   
          ON OUTPUT.                                                     Fixup   
                                                                         Fixup   
      OPTIONAL CHECKS/CORRECTIONS                                        Fixup   
      ===========================                                        Fixup   
      THE FOLLOWING NUMBERS CORRESPOND TO THE INPUT DATA OPTION COLUMNS  Fixup   
      (SEE THE DESCRIPTION OF THE INPUT BELOW)                           Fixup   
                                                                         Fixup   
      (1) CORRECT ZA AND AWR IN ALL SECTIONS. CHECK TO INSURE THAT THE   Fixup   
          C1 AND C2 VALUES (ZA AND AWR) ARE THE SAME IN ALL SECTIONS.    Fixup   
          THE C1 AND C2 OF THE FIRST SECTION READ ARE ASSUMED TO BE      Fixup   
          CORRECT AND ARE USED FOR COMPARISON. IF THE C1 AND/OR C2 OF    Fixup   
          THE FIRST SECTION ARE NOT POSITIVE AN ERROR MESSAGE IS OUTPUT  Fixup   
          AND THE MATERIAL IS COPIED WITHOUT CHANGE.                     Fixup   
          NOTE....TO CHANGE THE ZA AND/OR AWR OF ANY MATERIAL IT IS      Fixup   
          MERELY NECESSARY TO CHANGE THE ZA AND/OR AWR IN THE FIRST      Fixup   
          SECTION OF THE MATERIAL AND USE THIS OPTION TO AUTOMATICALLY   Fixup   
          CHANGE ALL OTHER SECTIONS.                                     Fixup   
      (2) CORRECT CROSS SECTION (MF=3) THRESHOLDS. THE Q-VALUE AND AWR   Fixup   
          ARE USED TO DERIVE THE REACTION THRESHOLD USING THE RELATION,  Fixup   
                                                                         Fixup   
          E-THRESHOLD = -(Q-VALUE)*(AWRE+1.0)/AWRE                       Fixup   
                                                                         Fixup   
          IF THE THRESHOLD IS POSITIVE THE CROSS SECTION IS CHECKED TO   Fixup   
          INSURE THAT THE FIRST TABULATED POINT IS AT THE THRESHOLD AND  Fixup   
          HAS A ZERO CROSS SECTION. IF NOT, THE CROSS SECTION WILL BE    Fixup   
          CHANGED.                                                       Fixup   
          (A) IF THE FIRST TABULATED POINT IS ABOVE THE THRESHOLD AND    Fixup   
              HAS A ZERO CROSS SECTION, THE POINT IS DELETED AND A POINT Fixup   
              IS INSERTED AT THE THRESHOLD.                              Fixup   
          (B) IF THE FIRST TABULATED POINT IS ABOVE THE THRESHOLD AND    Fixup   
              HAS A NON-ZERO CROSS SECTION, A POINT WITH ZERO CROSS      Fixup   
              SECTION IS INSERTED AT THE THRESHOLD.                      Fixup   
          (C) IF THE FIRST TABULATED POINT IS BELOW THE THRESHOLD AND    Fixup   
              HAS A NON-ZERO CROSS SECTION, ALL POINTS BELOW THE         Fixup   
              THRESHOLD ARE DELETED AND A POINT WITH ZERO CROSS SECTION  Fixup   
              IS INSERTED AT THE THRESHOLD.                              Fixup   
      (3) EXTEND ALL CROSS SECTIONS (MF=3) TO 20 MEV. IF THE TABULATED   Fixup   
          CROSS SECTION ENDS BELOW 20 MEV IT WILL BE EXTENDED TO 20 MEV  Fixup   
          AS EITHER ZERO (IMOPS(3)=1) OR CONSTANT (IMOPS(3)=2) EQUAL     Fixup   
          TO THE LAST TABULATED VALUE.                                   Fixup   
      (4) ALLOW REACTION (MF=3, ANY MT) DELETION. ALL SPECIFIED          Fixup   
          REACTIONS WILL BE DELETED WHEN THE DATA IS READ FROM THE       Fixup   
          INPUT ENDF DATA FILE AND WILL NOT BE IN THE OUTPUT ENDF        Fixup   
          DATA FILE. WARNING DELETED REACTIONS MAY NOT BE USED TO DEFINE Fixup   
          ANY RECONSTRUCTED REACTIONS (I.E. REACTIONS DEFINED BY SUMMING Fixup   
          OTHER REACTIONS). SINCE DELETED REACTIONS ARE DELETED DURING   Fixup   
          READING IT IS AS IF THEY NEVER EXISTED AND IF ANY DELETED      Fixup   
          REACTION IS REQUIRED LATER TO DEFINE ANY SUM AN ERROR WILL     Fixup   
          RESULT. THE USER MAY SPECIFY THAT THE DELETION RULES ARE TO BE Fixup   
          READ FROM INPUT (IMOPS(4)=1) OR THAT THE BUILT IN SUMMATION    Fixup   
          RULES ARE TO BE USED (MOPS(4)=2). AT THE PRESENT TIME THE      Fixup   
          BUILT-IN DELETION RULES ARE THAT NO SECTIONS SHOULD BE DELETED Fixup   
          (THE USER MAY OVERRIDE THIS CONVENTION BY INPUT).              Fixup   
      (5) ALLOW REACTION (MF=3, ANY MT) RECONSTRUCTION BY SUMMING OTHER  Fixup   
          REACTIONS. IN ORDER TO OPTIMIZE THE RUNNING TIME OF THIS       Fixup   
          PROGRAM CARE SHOULD BE EXERCISED TO MINIMIZE THE NUMBER OF     Fixup   
          TIMES THAT EACH CONTRIBUTING CROSS SECTION MUST BE USED.       Fixup   
          THE USED MAY SPECIFY THAT THE SUMMATION RULES ARE TO BE READ   Fixup   
          AS INPUT (IMOPS(5)=1) OR THAT THE BUILT IN SUMMATION RULES     Fixup   
          ARE TO BE USED (IMOPS(5)=2). THE BUILT IN SUMMATION RULES ARE  Fixup   
          DESIGNED TO USE ENDF CONVENTIONS AND TO MINIMIZE THE NUMBER    Fixup   
          OF TIMES THAT EACH CROSS SECTION IS USED.                      Fixup   
      (6) INSURE THAT ALL CROSS SECTIONS ARE NON-NEGATIVE (I.E. ARE      Fixup   
          ZERO OR POSITIVE). DURING READING ALL NEGATIVE CROSS SECTIONS  Fixup   
          WILL BE SET EQUAL TO ZERO AND TREATED AS SUCH DURING ALL       Fixup   
          SUBSEQUENT SUMMATIONS AND ENDF OUTPUT.                         Fixup   
          NOTE...THIS OPTION SHOULD NEVER BE USED WITH DATA CONTAINING   Fixup   
          BACKGROUND CROSS SECTIONS WHICH MAY BE NEGATIVE. ONLY AFTER    Fixup   
          THE RESONANCE CONTRIBUTION HAS BEEN ADDED TO THE BACKGROUND    Fixup   
          TO DEFINE THE ACTUAL CROSS SECTION IS IT VALID TO ELIMINATE    Fixup   
          NEGATIVE CROSS SECTIONS.                                       Fixup   
          NOTE...THIS OPTION MAY BE USED TO DELETE NEGATIVE ELASTIC      Fixup   
          CROSS SECTIONS THAT MAY RESULT FROM RECONSTRUCTING CROSS       Fixup   
          SECTIONS FROM SINGLE LEVEL BREIT-WIGNER PARAMETERS. IF THE     Fixup   
          TOTAL CROSS SECTION IS THEN RECONSTRUCTED USING THE CORRECTED  Fixup   
          ELASTIC CROSS SECTION THE TOTAL WILL BE POSITIVE DUE TO THE    Fixup   
          CONTRIBUTIONS OF CAPTURE AND FISSION (THUS AVOIDING NUMERICAL  Fixup   
          INSTABILITY PROBLEMS DURING SELF-SHIELDING CALCULATIONS).      Fixup   
      (7) WITHIN EACH SECTION OF CROSS SECTIONS DELETE ENERGIES THAT     Fixup   
          ARE NOT IN ASCENDING ENERGY ORDER (ENERGY REPETITION IS O.K.)  Fixup   
      (8) WITHIN EACH SECTION OF CROSS SECTIONS ELIMINATE DUPLICATE      Fixup   
          POINTS (SUCCESSIVE POINTS WITH THE SAME ENERGY-CROSS SECTION). Fixup   
      (9) TEST THAT ALL SECTIONS ARE IN ASCENDING MAT/MF/MT ORDER.       Fixup   
          IF NOT, NO CORRECTIVE ACTION WILL BE TAKEN, ONLY AN ERROR      Fixup   
          MESSAGE WILL BE OUTPUT.                                        Fixup   
     (10) CHECK MF/MT FOR EACH SECTION TO INSURE THAT THEY ARE DEFINED   Fixup   
          IN THE ENDF FORMAR MANUAL. IF THEY ARE NOT DEFINED AN ERROR    Fixup   
          MESSAGE IS PRINTED, BUT NO CORRECTIVE ACTION IS TAKEN.         Fixup   
     (11) ALLOW SECTIONS WHICH ARE NOT PRESENT IN THE ORIGINAL (INPUT)   Fixup   
          EVALUATION TO BE CREATED. NORMALLY THIS PROGRAM WILL ONLY      Fixup   
          RECONSTRUCT AND OUTPUT SECTIONS IF THE SECTION IS PRESENT      Fixup   
          IN THE ORIGINAL EVALUATION. THIS PROCEDURE IS FOLLOWED BECAUSE Fixup   
          NORMALLY THE PROGRAM DOES NOT KNOW HOW TO DEFINE THE CONTENTS  Fixup   
          OF THE FIRST TWO LINES OF THE SECTION (E.G., Q-VALUE,          Fixup   
          TEMPERATURE, INITIAL AND FINAL STATES). THIS OPTION MAY BE     Fixup   
          USED TO ALLOW THE PROGRAM TO READ AND SAVE A TABLE DEFINING    Fixup   
          THE CONTENTS OF THE FIRST TWO LINES OF EACH SECTION TO BE      Fixup   
          CREATED.                                                       Fixup   
          NOTE...IF A SECTION IS PRESENT ANY COMMAND TO CREATE IT WILL   Fixup   
          BE IGNORED.                                                    Fixup   
      (12)ALLOW ENERGY POINTS TO BE INSERTED. THE PROGRAM CAN READ UP    Fixup   
          TO 50, ENERGIES, MAT, MT AND USE LINEAR INTERPOLATION TO       Fixup   
          INSERT ENERGY POINTS INTO TABLES AS THEY ARE READ, E.G.,       Fixup   
          INSERT AN ENERGY POINT AT THERMAL ENERGY (0.0253 EV). IF       Fixup   
          AN MAT AND/OR MT IS ZERO THIS IMPLIES = ALL - INSERT THE       Fixup   
          ENERGY IN ALL TABLES.                                          Fixup   
      (13)PUT ALLOW CROSS SECTIONS ON A UNIFORM ENERGY GRID = EACH       Fixup   
          SECTION (MT) OF CROSS SECTIONS WILL INCLUDE ALL ENERGIES       Fixup   
          WHICH APPEAR IN AT LEAST ONE SECTION OF DATA. PARAMETERS       Fixup   
          (MT=251 THROUGH 255) ARE NOT INCLUDED IN THE UNIFORM ENERGY    Fixup   
          GRID.                                                          Fixup   
      (14)DELETE SECTION IF CROSS SECTION = 0 AT ALL ENERGIES. THIS      Fixup   
          SOUNDS LIKE AN ABSURD OPTION, BUT IS REQUIRED BECAUSE SUCH     Fixup   
          SECTIONS EXIST IN ENDF/B-VI DATA.                              Fixup   
                                                                         Fixup   
      CREATING RATIOS AND PRODUCTS                                       Fixup   
      ============================                                       Fixup   
      IN ORDER TO CREATE RATIOS AND PRODUCTS = NEW MT NUMBERS, YOU MUST  Fixup   
      DO TWO THINGS,                                                     Fixup   
                                                                         Fixup   
      1) DEFINE EACH NEW MT NUMBER AS A RATIO OR PRODUCT OF TWO MT       Fixup   
         NUMBERS.                                                        Fixup   
                                                                         Fixup   
      2) USE THE CREATE MT NUMBER OPTION AND INPUT THE FIRST TWO LINES   Fixup   
         OF THE SECTION                                                  Fixup   
                                                                         Fixup   
      WARNING - UNLESS YOU DO BOTH OF THESE YOU WILL NOT OBTAIN OUTPUT   Fixup   
      IN THE ENDF FORMAT.                                                Fixup   
                                                                         Fixup   
      TWO SPECIAL MT NUMBERS HAVE BEEN DEFINED BY CSEWG INVOLVING        Fixup   
      RATIOS AND PRODUCTS,                                               Fixup   
                                                                         Fixup   
      ALPHA (MT=254)= CAPTURE (MT=102)/FISSION (MT=18)                   Fixup   
                                                                         Fixup   
      ETA (MT=255)  = NU-BAR (MT=452)*FISSION (MT=18)/ABSORPTION (MT=27) Fixup   
                                                                         Fixup   
      ABSORPTION (MT=27) = FISSION (MT=18) + SUM (MT=102 THROUGH 116)    Fixup   
                                                                         Fixup   
      AS YET THERE IS NO STANDARD DEFINITION OF MT NUMBERS FOR RATIO     Fixup   
      OR PRODUCT DATA. YOU ARE FREE TO USE ANY MT NUMBERS NORMALLY NOT   Fixup   
      USED IN THE ENDF. HOWEVER, IT WILL THEN BE YOUR RESPONSIBILITY     Fixup   
      TO PROPERLY INTERPRET THE RESULTS, I.E., NOBODY ELSE WILL HAVE     Fixup   
      ANY IDEA HOW TO INTERPRET A TABLE OF DATA ASSOCIATED WITH THE MT   Fixup   
      NUMBERS YOU HAVE USED.                                             Fixup   
                                                                         Fixup   
      THIS PROGRAM CAN BE ONLY DIRECTLY DEFINE RATIOS AND PRODUCTS       Fixup   
      USING TWO MT NUMBERS = BINARY OPERATIONS, E.G., DEFINE THE CAPTURE Fixup   
      TO FISSION RATIO, OR DEFINE THE PRODUCT NU-BAR*FISSION.            Fixup   
                                                                         Fixup   
      THIS PROGRAM CANNOT DIRECTLY DEFINE RATIO OR PRODUCT OF A SUM OF   Fixup   
      SECTIONS TO THE SUM OF ANOTHER SET OF SECTIONS. HOWEVER, THIS CAN  Fixup   
      BE DONE INDIRECTLY BY FIRST DEFINING A DUMMY MT NUMBER (ANY MT     Fixup   
      NUMBER NOT NORMALLY USED IN ENDF) TO BE A SUM OF SECTIONS AND      Fixup   
      A SECOND DUMMY MT NUMBER TO BE A SECOND SUM OF SECTIONS. YOU CAN   Fixup   
      THEN DEFINE RATIO OR PRODUCT YOU REQUIRE TO BE THE RATIO OF THESE  Fixup   
      TWO DUMMY MT NUMBERS.                                              Fixup   
                                                                         Fixup   
      FOR EXAMPLE, TO DEFINE ETA,                                        Fixup   
      1) FIRST DEFINE (MT=27) = (MT=27) + (SUM OF MT=102 THROUGH 116)    Fixup   
      2) NEXT DEFINE (MT=333) = (MT=452)*(MT=18)                         Fixup   
      3) LAST DEFINE (MT=255) = (MT=333)/(MT=27)                         Fixup   
      DO NOT FORGET TO TURN ON THE CREATE SECTION OPTION (ON THE FIRST   Fixup   
      INPUT LINE) AND INPUT THE FIRST TWO LINES OF SECTION MT=255 -      Fixup   
      OTHERWISE YOU WILL NOT GET ANY ENDF FORMATTED OUTPUT.              Fixup   
                                                                         Fixup   
      THE ONLY SPECIAL CONVENTIONS USED BY THIS PROGRAM IN CALCULATING   Fixup   
      RATIOS ARE WHEN THE DENOMINATOR OF THE RATIO IS ZERO. IN THIS      Fixup   
      CASE IF THE NUMERATOR IS ALSO ZERO THE RATIO IS DEFINED TO BE ONE. Fixup   
      IN THIS CASE IF THE NUMERATOR IS NOT ZERO THE RATIO IS DEFINED     Fixup   
      TO BE ZERO.                                                        Fixup   
                                                                         Fixup   
      ENDF FORMAT                                                        Fixup   
      ===========                                                        Fixup   
      THIS PROGRAM MAY BE USED WITH DATA IN ANY VERSION OF THE ENDF      Fixup   
      FORMAT (I.E. ENDF-1, 2, 3, 4, 5 OR 6 FORMAT). SINCE A              Fixup   
      PAGING SYSTEM IS USED STORE CROSS SECTION TABLES ON SCRATCH FILES  Fixup   
      THERE IS NO LIMIT TO THE SIZE OF TABLES (E.G. THE TOTAL CROSS      Fixup   
      SECTION MAY BE REPRESENTED BY 200,000 TABULATED POINTS).           Fixup   
                                                                         Fixup   
      WARNING                                                            Fixup   
      =======                                                            Fixup   
      (1) FOR EACH SECTION OF CROSS SECTIONS (I.E. EACH MT, MF=3) IN     Fixup   
          THE ORIGINAL EVALUATION (I.E. ENDF/B DATA READ) ONE SECTION    Fixup   
          OF DATA WILL BE OUTPUT, UNLESS THE SECTION HAS BEEN DELETED.   Fixup   
          THIS INCLUDES ANY SECTIONS WHICH ARE NOT PRESENT IN THE        Fixup   
          ORIGINAL EVALUATION, BUT THE USER INDICATES (BY INPUT) SHOULD  Fixup   
          BE CREATED.                                                    Fixup   
                                                                         Fixup   
          THE PROGRAM WILL NOT OUTPUT ANY SECTION RECONSTRUCTED BY       Fixup   
          SUMMATION UNLESS THE CORRESPONDING SECTION (MT NUMBER) IS      Fixup   
          PRESENT IN THE ORIGINAL EVALUATION OR USER INPUT INDICATES     Fixup   
          SHOULD BE CREATED AND OUTPUT. THIS IS (A) BECAUSE THE          Fixup   
          PROGRAM CANNOT DEFINE THE PARAMETERS TO APPEAR ON THE FIRST    Fixup   
          TWO LINES OF THE SECTION, (B) TO AVOID OUTPUTTING TOO MUCH     Fixup   
          DATA WHICH THE USER MAY NOT BE INTERESTED IN.                  Fixup   
                                                                         Fixup   
      (2) FOR ANY SECTIONS THAT DO NOT APPEAR IN THE ORIGINAL DATA THE   Fixup   
          USER MAY SPECIFY THAT THEY BE DEFINED BY SUMMATION. ANY SUCH   Fixup   
          SECTION MAY BE USED BE DEFINE SUBSEQUENT SUMS, BUT THE SECTION Fixup   
          ITSELF WILL NOT BE OUTPUT (E.G. GENERALLY MT=27 AND 101 ARE    Fixup   
          NOT PRESENT IN EVALUATIONS. HOWEVER, THE BUILT-IN SUMMATION    Fixup   
          RULES OF THIS PROGRAM USES THE ENDF SUMMATION RULES TO         Fixup   
          DEFINE MT=27 AND 101, WHICH IN TURN ARE USED TO DEFINE THE     Fixup   
          NON-ELASTIC CROSS SECTION, MT=3. SECTIONS MT=27 AND 101 ARE    Fixup   
          NOT OUTPUT).                                                   Fixup   
                                                                         Fixup   
      (3) ALL DATA IN FILE 3 AND 23 MUST BE LINEARLY INTERPOLABLE. IF    Fixup   
          THE DATA IS NOT LINEARLY INTERPOLABLE THIS PROGRAM WILL        Fixup   
          TERMINATE.                                                     Fixup   
                                                                         Fixup   
      PROGRAM OPERATION                                                  Fixup   
      =================                                                  Fixup   
      ALL MAT NUMBER ON AN ENDF TAPE ARE PROCESSED. EACH MAT IS          Fixup   
      TREATED SEPARATELY. WITHIN EACH MAT, EACH SECTION BEFORE MF=3      Fixup   
      IS READ, CHECKED/CORRECTED (BASED ON INPUT OPTIONS) AND OUTPUT.    Fixup   
      WHEN MF=3 IS LOCATED ALL CROSS SECTIONS ARE READ, SECTIONS TO BE   Fixup   
      DELETED ARE DELETED, SECTIONS WHICH ARE NOT PRESENTED AND USER     Fixup   
      INPUT INDICATES SHOULD BE CREATED ARE CREATE, SECTIONS TO BE KEPT  Fixup   
      ARE CHECKED/CORRECTED (BASED ON INPUT OPTIONS) AND WRITTEN TO A    Fixup   
      SCRATCH FILE. NEXT, IF THE USER SPECIFIES THAT THEY SHOULD,        Fixup   
      SECTIONS ARE RECONSTRUCTED. FINALLY ALL CROSS SECTIONS (OLD AND    Fixup   
      NEW) ARE OUTPUT. WITHIN THE SAME MAT, EACH SECTION AFTER MF=3 IS   Fixup   
      READ, CHECKED/CORRECTED (BASED ON INPUT OPTIONS) AND OUTPUT.       Fixup   
                                                                         Fixup   
      MF=3                                                               Fixup   
      ====                                                               Fixup   
      THE TREATMENT OF THE CROSS SECTIONS REQUIRES UP TO 4 PASSES FOR    Fixup   
      CROSS SECTIONS. IN THE PROGRAM THEY CORRESPOND TO SUBROUTINES      Fixup   
      PASS1, PASS2, PASS3 AND PASS4. THE ORIGINAL AND FINAL ENDF DATA    Fixup   
      FILES, 5 SCRATCH FILES AND 3 IN CORE ARRAYS ARE USED. OPERATIONS   Fixup   
      PERFORMED DURING EACH PASS ARE,                                    Fixup   
                                                                         Fixup   
      PASS1                                                              Fixup   
      =====                                                              Fixup   
      READ ALL CROSS SECTIONS FROM ITAPE. DELETED ANY SECTIONS. CREATE   Fixup   
      ANY SECTIONS. CHECK/CORRECT THEM AND WRITE THEM TO SCRATCH FILE.   Fixup   
      DATA IS READ INTO ARRAY A, TRANSFERRED TO ARRAY C (AFTER EDITING)  Fixup   
      AND OUTPUT TO ISCRC FROM ARRAY C.                                  Fixup   
      ITAPE  - UNIT ORIGINAL ENDF DATA IS READ FROM.                     Fixup   
      ISCRC  - SCRATCH UNIT THAT EDITED DATA IS WRITTEN ON.              Fixup   
      TABA   - ARRAY INTO WHICH ORIGINAL DATA IS READ.                   Fixup   
      TABC   - ARRAY INTO WHICH EDITED DATA IS TRANSFERRED TO AND        Fixup   
               FROM WHICH IT IS WRITTEN TO ISCRC.                        Fixup   
                                                                         Fixup   
      PASS2                                                              Fixup   
      =====                                                              Fixup   
      IF A UNIFORM ENERGY GRID IS REQUESTED IT IS CREATED DURING THIS    Fixup   
      PASS. FIRST ALL OF THE CROSS SECTIONS FROM PASS1 ARE READ AND A    Fixup   
      UNIFORM ENERGY GRID IS CREATED = ALL ENERGIES THAT ARE INCLUDED    Fixup   
      IN AT LEAST ONE SECTION (MT) OF CROSS SECTIONS.                    Fixup   
      ISCRA  - SCRATCH UNIT CONTAINING UNIFORM ENERGY GRID.              Fixup   
      ISCRB  - SCRATCH UNIT CONTAINING UNIFORM ENERGY GRID.              Fixup   
      ISCRC  - SCRATCH UNIT THAT EDITED DATA IS READ FROM.               Fixup   
      TABA   - ARRAY CONTAINING UNIFORM ENERGY GRID.                     Fixup   
      TABB   - ARRAY CONTAINING UNIFORM ENERGY GRID.                     Fixup   
      TABC   - ARRAY CONTAINING EDITED DATA.                             Fixup   
                                                                         Fixup   
      THE UNIFORM ENERGY GRID ENDS UP ON ISCRB. NEXT EACH SECTION OF     Fixup   
      CROSS SECTIONS FROM PASS1 IS READ FROM ISCRC, INTERPOLATED TO      Fixup   
      THE UNIFORM ENERGY GRID AND OUTPUT TO ISCRA. FINALLY ISCRA AND     Fixup   
      ISCRC ARE SWITCH, SO THAT AT THE END OF THIS PASS THE DATA WILL    Fixup   
      AGAIN BE ON ISCRC (EXACTLY AS AT THE END OF PASS1), WITH UPDATED   Fixup   
      POINT COUNTS.                                                      Fixup   
      ISCRA  - SCRATCH UNIT THAT UNIFORM ENERGY GRID DATA IS WRITTEN ON. Fixup   
      ISCRB  - SCRATCH UNIT CONTAINING UNIFORM ENERGY GRID.              Fixup   
      ISCRC  - SCRATCH UNIT THAT EDITED DATA IS READ FROM.               Fixup   
      TABA   - ARRAY CONTAINING UNIFORM ENERGY GRID DATA.                Fixup   
      TABB   - ARRAY CONTAINING UNIFORM ENERGY GRID.                     Fixup   
      TABC   - ARRAY CONTAINING EDITED DATA.                             Fixup   
                                                                         Fixup   
      PASS3                                                              Fixup   
      =====                                                              Fixup   
      SUMMATION CROSS SECTIONS ARE DEFINED BY READING DATA FROM ISCRC    Fixup   
      AND MERGING THEM ONTO ISCRA. THE FIRST SECTION THAT CONTRIBUTES    Fixup   
      TO A SUM IS MERELY COPIED FROM C TO A. IF MORE SECTIONS WILL       Fixup   
      CONTRIBUTE TO THE SUM THE DATA IN A IS TRANSFERRED TO B, A         Fixup   
      SECTION OF DATA FROM C IS ADDED TO THE DATA IN B AND STORED IN     Fixup   
      A. THE CYLE OF ADDED C AND B TO A, FOLLOWED BY MOVING A TO B       Fixup   
      IS CONTINUED UNTIL ALL CONTRIBUTING SECTIONS HAVE BEEN ADDED.      Fixup   
      THE SUM IS THEN COPIED FROM A TO D. IF NEWLY CONSTRUCTED SECTION   Fixup   
      IS REQUIRED FOR ANY LATER SUMMUATIONS IT IS ALSO COPIED TO E.      Fixup   
      THE CYCLE OF ADDED SECTIONS FROM C AND B TO A IS REPEATED FOR      Fixup   
      EACH REQUIRED SUMMATION REACTION. IN ADDITION TO SECTIONS FROM     Fixup   
      C, AFTER THE FIRST SUMMATION SECTIONS MAY ALSO BE ADDED TO A       Fixup   
      FROM E (THE CONTRIBUTION OF NEW RECONSTRUCTED CROSS SECTIONS).     Fixup   
      WHEN ALL REQUIRED SECTIONS HAVE BEEN RECONSTRUCTED THE NEW         Fixup   
      SECTIONS WILL BE ON E AND THE ORIGINAL SECTIONS ON C.              Fixup   
      ISCRC  - SCRATCH FILE FROM WHICH ORIGINAL DATA IS READ.            Fixup   
      ISCRA  - SCRATCH FILE ONTO WHICH SUM FOR ONE SECTION IS WRITTEN.   Fixup   
      ISCRD  - SCRATCH FILE ONTO WHICH ALL SUM CROSS SECTIONS ARE        Fixup   
               WRITTEN.                                                  Fixup   
      ISCRE  - SCRATCH FILE ONTO WHICH ALL SUM CROSS SECTIONS WHICH      Fixup   
               ARE REQUIRED FOR LATER SUMS ARE WRITTEN.                  Fixup   
      ISCRB  - UTILITY SCRATCH FILE USED TO CREATE SUM CROSS SECTIONS.   Fixup   
      TABA   - ARRAY INTO WHICH SUMS ARE WRITTEN.                        Fixup   
      TABB   - ARRAY INTO WHICH PARTIAL SUMS ARE WRITTEN.                Fixup   
      TABC   - ARRAY INTO WHICH ORIGINAL DATA IS READ.                   Fixup   
                                                                         Fixup   
      PASS4                                                              Fixup   
      =====                                                              Fixup   
      CROSS SECTIONS ARE READ FROM ISCRC (ORIGINAL) AND ISCRD (NEW)      Fixup   
      AND ARE WRITTEN IN THE ENDF FORMAT ON OTAPE. THE BEGINNING OF      Fixup   
      EACH SECTION OF ORIGINAL DATA IS READ FROM ISCRC (TO DEFINE        Fixup   
      SECTION HEADER INFORMATION). IF THIS MT HAS NOT BEEN RECOSTRUCTED  Fixup   
      ON ISCRD THE ORIGINAL SECTION IS OUTPUT. IF THE SECTION HAS BEEN   Fixup   
      RECONSTRUCTED THE ORIGINAL SECTION IS SKIPPED AND THE NEW SECTION  Fixup   
      IS OUTPUT.                                                         Fixup   
      OTAPE  - OUTPUT DATA IN THE ENDF FORMAT.                           Fixup   
      ISCRC  - SCRATCH FILE FROM WHICH ORIGINAL DATA IS READ.            Fixup   
      ISCRD  - SCRATCH FILE FROM WHICH NEW DATA IS READ.                 Fixup   
      TABC   - ARRAY INTO WHICH CROSS SECTIONS ARE READ FROM SCRATCH     Fixup   
               AND WRITTEN TO OTAPE                                      Fixup   
                                                                         Fixup   
      I/O FILE DEFINITIONS                                               Fixup   
      ====================                                               Fixup   
      UNIT   DESCRIPTION                                                 Fixup   
      ====   ===========                                                 Fixup   
        2    INPUT PARAMETERS.                                           Fixup   
        3    OUTPUT REPORT.                                              Fixup   
       10    ORIGINAL DATA IN THE ENDF FORMAT.                           Fixup   
       11    FINAL DATA IN THE ENDF FORMAT.                              Fixup   
       12    SCRATCH FILE                                                Fixup   
       14    SCRATCH FILE                                                Fixup   
       15    SCRATCH FILE                                                Fixup   
       16    SCRATCH FILE                                                Fixup   
       17    SCRATCH FILE                                                Fixup   
                                                                         Fixup   
      OPTIONAL STANDARD FILE NAMES (SEE SUBROUTINE FILIO1 AND FILIO2)    Fixup   
      ===============================================================    Fixup   
      UNIT  FILE NAME   FORMAT                                           Fixup   
      ====  ==========  ======                                           Fixup   
        2   FIXUP.INP    BCD                                             Fixup   
        3   FIXUP.LST    BCD                                             Fixup   
       10   ENDFB.IN     BCD                                             Fixup   
       11   ENDFB.OUT    BCD                                             Fixup   
     12-17  (SCRATCH)   BINARY                                           Fixup   
                                                                         Fixup   
      INPUT LINES                                                        Fixup   
      ===========                                                        Fixup   
      LINE  COLUMNS  FORMAT  DESCRIPTION                                 Fixup   
      ====  =======  ======  ===========                                 Fixup   
        1    1-14     14I1   INPUT OPTIONS AS DESCRIBED ABOVE.           Fixup   
                             EACH COLUMN OF THE INPUT LINE CONTROLS      Fixup   
                             ONE OF THE TESTS/CORRECTIONS DESCRIBED      Fixup   
                             ABOVE. TESTS/CORRECTION 1-14 (NOT ALL       Fixup   
                             IMPLEMENTED YET) CORRESPOND TO COLUMNS      Fixup   
                             1-14 OF THIS INPUT LINE AND ARE TREATED     Fixup   
                             AS FOLLOWS,                                 Fixup   
                             = 0 - DO NOT PERFORM TEST/CORRECTION.       Fixup   
                             = 1 - PERFORM TEST/CORRECTION.              Fixup   
                             FOR MT EXCLUSION FROM THRESHOLD TESTS       Fixup   
                             (COLUMN 2), DELETION (COLUMN 4), OR         Fixup   
                             SUMMATION (COLUMN 5) THE INPUT OPTION       Fixup   
                             MAY BE,                                     Fixup   
                             = 1 - READ RULES FROM INPUT                 Fixup   
                             = 2 - USE BUILT-IN RULES                    Fixup   
        2    1-72      A72   ENDF INPUT DATA FILENAME                    Fixup   
                             (STANDARD OPTION = ENDFB.IN)                Fixup   
        3    1-72      A72   ENDF OUTPUT DATA FILENAME                   Fixup   
                             (STANDARD OPTION = ENDFB.OUT)               Fixup   
      4-M    1-5      FREE   CHARACTER (S,D,T,R,*) FOLLOWED BY BLANK OR  Fixup   
                      FORM   MT NUMBER                                   Fixup   
                             - THE ALLOWED CHARACTERS ARE,               Fixup   
                             - S OR BLANK = SUM (OR DIFFERENCES)         Fixup   
                             - D = DELETE                                Fixup   
                             - T = NO THRESHOLD ENERGY CORRECTIONS       Fixup   
                             - R = RATIO                                 Fixup   
                             - * = PRODUCT                               Fixup   
            6-72      FREE   UP TO 10 LOWER AND UPPER MT RANGES WHICH    Fixup   
                      FORM   WILL BE USED TO DEFINE THE RECONSTRUCTED    Fixup   
                             CROSS SECTION OR TO DEFINE MT RANGES WHICH  Fixup   
                             ARE EXCLUDED FROM THRESHOLD TESTS.          Fixup   
                                                                         Fixup   
                             EACH MT NUMBER IS DEFINED BY A CONTINUOUS   Fixup   
                             STRING OF DIGITS, POSSIBILITY PRECEEDED BY  Fixup   
                             A - (MINUS SIGN). EACH MT NUMBER MUST BE    Fixup   
                             BLANK OR OTHERWISE (NOT A DIGIT) DELIMITED. Fixup   
                                                                         Fixup   
                             COLUMNS 6-72 MAY CONTAIN STRINGS OF DIGITS  Fixup   
                             THE FIRST DIGIT STRING OF EACH PAIR MAY BE  Fixup   
                             PRECEEDED BY A - (MINUS SIGN).              Fixup   
                                                                         Fixup   
                             EACH LINE WILL BE INTERPRETED AS FOLLOWS,   Fixup   
                                                                         Fixup   
                            *SUMMATION (OR DIFFERENCES)                  Fixup   
                             --------------------------                  Fixup   
                             COLUMNS 1-5 = S OR BLANK FOLLOWED BY THE    Fixup   
                             MT NUMBER TO BE DEFINED BY SUMMATION        Fixup   
                                                                         Fixup   
                             COLUMNS 6-72 = UP TO 10 MT RANGE (PAIRS OF  Fixup   
                             MT NUMBERS) TO BE USED TO DEFINED THE SUM.  Fixup   
                             IF THE FIRST MT NUMBER OF A PAIR IS         Fixup   
                             NEGATIVE THE RANGE OF MT NUMBERS IS         Fixup   
                             SUBTRACTED - AT LEAST ONE RANGE MUST BE     Fixup   
                             SPECIFIED.                                  Fixup   
                                                                         Fixup   
                            *DELETIONS                                   Fixup   
                             ---------                                   Fixup   
                             COLUMNS 1-5 = D FOLLOWED BY BLANKS          Fixup   
                                                                         Fixup   
                             COLUMNS 6-72 CONTAIN UP TO 10 MT RANGE      Fixup   
                             (PAIRS OF MT NUMBERS), EACH RANGE DEFINING  Fixup   
                             A RANGE OF MT NUMBERS TO BE DELETED - AT    Fixup   
                             LEAST ONE RANGE MUST BE SPECIFIED.          Fixup   
                                                                         Fixup   
                            *EXCLUSION FROM THRESHOLD TESTS              Fixup   
                             ------------------------------              Fixup   
                             COLUMNS 1=5 = T FOLLOWED BY BLANKS          Fixup   
                                                                         Fixup   
                             COLUMNS 6-72 CONTAIN UP TO 10 MT RANGE      Fixup   
                             (PAIRS OF MT NUMBERS), EACH RANGE DEFINING  Fixup   
                             A RANGE OF MT NUMBERS WHOSE THRESHOLD       Fixup   
                             ENERGY WILL NOT BE CHECKED - AT LEAST ONE   Fixup   
                             RANGE MUST BE SPECIFIED.                    Fixup   
                                                                         Fixup   
                            *RATIO                                       Fixup   
                             -----                                       Fixup   
                             COLUMNS 1-5 = R FOLLOWED BY THE MT NUMBER   Fixup   
                             TO BE DEFINED BY A RATIO                    Fixup   
                                                                         Fixup   
                             COLUMNS 6-72 CONTAINS 2 MT NUMBERS TO BE    Fixup   
                             USED TO DEFINE THE RATIO.                   Fixup   
                                                                         Fixup   
                            *PRODUCT                                     Fixup   
                             -----                                       Fixup   
                             COLUMNS 1-5 = * FOLLOWED BY THE MT NUMBER   Fixup   
                             TO BE DEFINED BY A PRODUCT                  Fixup   
                                                                         Fixup   
                             COLUMNS 6-72 CONTAINS 2 MT NUMBERS TO BE    Fixup   
                             USED TO DEFINE THE PRODUCT.                 Fixup   
                                                                         Fixup   
                             CONVENTIONS                                 Fixup   
                             -----------                                 Fixup   
                            *UP TO 20 DELETIONS AND 20 SUMMATIONS OR     Fixup   
                             RATIOS OR PRODUCTS MAY BE SPECIFIED.        Fixup   
                            *ONLY 1 EXCLUSION FROM THRESHOLD TESTS       Fixup   
                             MAY BE SPECIFIED (THE 1 LINE MAY CONTAIN    Fixup   
                             UP TO 10 MT RANGES TO EXCLUDE FROM TESTS).  Fixup   
                            *INPUT IS TERMINATED BY INPUTTNG 0 OR        Fixup   
                             BLANK IN COLUMNS 1-72 (I.E. THE LAST        Fixup   
                             INPUT LINE MUST BE BLANK).                  Fixup   
                            *THE UPPER LIMIT OF EACH RANGE MUST BE AT    Fixup   
                             LEAST AS BIG AS THE LOWER LIMIT (IN         Fixup   
                             ABSOLUTE VALUE).                            Fixup   
                            *FOR RECONSTRUCTION POSITIVE MT RANGES WILL  Fixup   
                             BE ADDED TO THE SUM AND NEGATIVE MT RANGES  Fixup   
                             WILL BE SUBTRACTED.                         Fixup   
                            *IF INPUT OPTION 2 (FIRST INPUT LINE) IS     Fixup   
                             0 THRESHOLD EXCLUSION IS NOT ALLOWED.       Fixup   
                            *IF INPUT OPTION 4 (FIRST INPUT LINE) IS     Fixup   
                             0 DELETIONS ARE NOT ALLOWED.                Fixup   
                            *IF INPUT OPTION 5 (FIRST INPUT LINE) IS     Fixup   
                             0 SUMMATIONS AND RATIOS ARE NOT ALLOWED.    Fixup   
      N-K                    IF THE USER SPECIFIES THAT SECTIONS WHICH   Fixup   
                             ARE NOT PRESENT IN THE ORIGINAL EVALUATION  Fixup   
                             MAY BE CREATED, TWO LINES MUST BE INPUT FOR Fixup   
                             EACH SECTION TO BE CREATED. THE TWO LINES   Fixup   
                             DEFINE (C1, C2, L1 AND L2) FOR EACH OF THE  Fixup   
                             FIRST TWO LINES OF THE SECTION TO BE        Fixup   
                             CREATED. THE FIRST LINE ALSO DEFINES (MAT   Fixup   
                             AND MT). (N1, N2) ARE ALWAYS ZERO ON THE    Fixup   
                             FIRST LINE AND WILL BE CALCULATED BY THE    Fixup   
                             PROGRAM FOR THE SECOND LINE.                Fixup   
    FIRST    1-11     E11.4  ZA OF SECTION TO BE CREATED                 Fixup   
    LINE    12-22     E11.4  AWRE OF SECTION TO BE CREATED               Fixup   
            23-33      I11   L1 OF SECTION TO BE CREATED                 Fixup   
            34-44      I11   L2 OF SECTION TO BE CREATED                 Fixup   
            45-48      I4    MAT OF SECTION TO BE CREATED                Fixup   
            49-51      I3    MT OF SECTION TO BE CREATED                 Fixup   
   SECOND    1-11     E11.4  C1 OF SECTION TO BE CREATED                 Fixup   
    LINE    12-22     E11.4  C2 OF SECTION TO BE CREATED                 Fixup   
            23-33      I11   L1 OF SECTION TO BE CREATED                 Fixup   
            34-44      I11   L2 OF SECTION TO BE CREATED                 Fixup   
                            *PAIRS OF LINES MAY BE IN ANY MAT/MT ORDER   Fixup   
                             (E.G., THEY NEED NOT BE IN ASCENDING        Fixup   
                              MAT/MT ORDER).                             Fixup   
                            *UP TO 50 PAIRS OF LINES MAY BE USED TO      Fixup   
                             DEFINE SECTIONS TO BE CREATED. THE LIST     Fixup   
                             IS TERMINATED WHEN THE FIRST LINE OF A      Fixup   
                             PAIR CONTAINS A ZERO (OR BLANK) MAT AND/OR  Fixup   
                             MT.                                         Fixup   
      M-N                    IF THE USER SPECIFIES THAT ENERGIES WHICH   Fixup   
                             ARE NOT PRESENT IN THE ORIGINAL EVALUATION  Fixup   
                             MAY BE INSERTED, ONE LINE MUST BE INPUT FOR Fixup   
                             EACH ENERGY TO BE INSERTED.                 Fixup   
             1-11    E11.4   ENERGY TO BE INSERTED                       Fixup   
            12-15     I4     MAT IN WHICH TO INSERT ENERGY = 0 = ALL     Fixup   
            16-18     I3     MT IN WHICH TO INSERT ENERGY = 0 = ALL      Fixup   
                            *UP TO 50 (ENERGY, MAT, MT) LINES MAY BE     Fixup   
                             USED. THE LIST IS TERMINATED BY A BLANK     Fixup   
                             LINE.                                       Fixup   
                            *INPUT MAY BE IN ANY (ENERGY, MAT, MT)       Fixup   
                             ORDER.                                      Fixup   
                            *ENERGY POINTS CAN ONLY BE INSERTED WITHIN   Fixup   
                             THE ORIGINAL ENERGY RANGE OF A SECTION -    Fixup   
                             THIS OPTION CANNOT BE USED TO EXTEND THE    Fixup   
                             CROSS SECTION EITHER BELOW OR ABOVE THE     Fixup   
                             ORIGINAL TABULATED ENERGY RANGE.            Fixup   
                                                                         Fixup   
      EXAMPLE INPUT NO. 1                                                Fixup   
      ===================                                                Fixup   
      (1) USE OPTIONS 1-11 (ALL OPTIONS, EXCEPT INSERT ENERGY POINTS)    Fixup   
      (2) DELETE MT=900 (FOR EXAMPLE PURPOSES ONLY)                      Fixup   
      (3) DEFINE THE FOLLOWING MT NUMBERS TO BE RECONSTRUCTED,           Fixup   
          (MT=  4) = THE SUM OF MT= 51 THROUGH  91                       Fixup   
          (MT=103) = THE SUM OF MT=700 THROUGH 718 (NOT 719)             Fixup   
          (MT=104) = THE SUM OF MT=720 THROUGH 738 (NOT 739)             Fixup   
          (MT=105) = THE SUM OF MT=740 THROUGH 758 (NOT 759)             Fixup   
          (MT=106) = THE SUM OF MT=760 THROUGH 778 (NOT 779)             Fixup   
          (MT=107) = THE SUM OF MT=780 THROUGH 798 (NOT 799)             Fixup   
  NEW     (MT= 16) = THE SUM OF MT=875 THROUGH 891                       Fixup   
          (MT=101) = THE SUM OF MT=102 THROUGH 114                       Fixup   
          (MT= 18) = (MT=19) + (MT=20 AND 21) + (MT=38)                  Fixup   
                     (IF TOTAL FISSION, MT=18, IS NOT PRESENT, DEFINE    Fixup   
                     IT BY SUMMING FIRST, SECOND, ETC. CHANCE - NOTE     Fixup   
                     THAT THIS MUST BE DONE IN THIS ORDER, SINCE THE     Fixup   
                     NEXT SUM INVOLVES USING MT=18.                      Fixup   
          (MT= 27) = THE SUM OF MT= 18 AND 101                           Fixup   
                     (MT=101 RECONSTRUCTED ABOVE USED IN SUM).           Fixup   
          (MT=  3) = THE SUM OF (MT=4)+(MT=6-9)+(MT=16-17)+(MT=22-37)+   Fixup   
                     (MT=41-45)                                          Fixup   
                     (MT=4 AND 27 RECONSTRUCTED ABOVE USED IN SUM).      Fixup   
          (MT= 19) = (MT=18) - (MT=20 AND 21) - (MT=38)                  Fixup   
                     (DEFINE FIRST CHANGE FISSION BY SUBTRACTION TO      Fixup   
                     ALLOW RESONANCE CONTRIBUTION FROM MT=18 TO BE       Fixup   
                     INCLUDED IN MT=19).                                 Fixup   
          (MT=  1) = THE SUM OF MT=2 AND 3                               Fixup   
                     (MT=3 RECONSTRUCTED ABOVE USED IN SUM).             Fixup   
     (4) THRESHOLD ENERGIES OF THE FOLLOWING MT NUMBERS WILL NOT BE      Fixup   
          TESTED OR CORRECTED.                                           Fixup   
          MT=1, 4, 18, 19, 91, 103 THROUGH 114.                          Fixup   
     (5) DEFINE MT=254 TO BE THE CAPTURE TO FISSION RATIO (MT=102/18)    Fixup   
     (6) CREATE MAT=1300/MT=254 - NOTE, THIS IS NECESSARY IN ORDER TO    Fixup   
         HAVE THE CAPTURE TO FISSION RATIO OUTPUT IN THE ENDF FORMAT     Fixup   
                                                                         Fixup   
      NOTE, ON THE FOLLOWING INPUT LINES THE CHARACTERS = ( ) + , HAVE   Fixup   
      BEEN USED ONLY TO MAKE THE INPUT MORE READABLE - THESE CHARACTERS  Fixup   
      WILL BE SKIPPED BY THE PROGRAM IN READING INPUT - THE RESULTS      Fixup   
      WOULD BE THE SAME IF THESE CHARACTERS WERE OMITTED, AS LONG AS     Fixup   
      ALL OF THE MT NUMBERS ARE DELIMITED, I.E., THERE IS AT LEAST ONE   Fixup   
      NON-DIGITAL CHARACTER BETWEEN MT NUMBERS. NOTE, THAT - (MINUS      Fixup   
      SIGN) IS IMPORTANT AND IS USED DURING INPUT TO DEFINE MT RANGES    Fixup   
      WHICH SHOULD BE SUBTRACTED, E.,G., SEE THE DEFINITION OF MT=19.    Fixup   
                                                                         Fixup   
      READ FILE /ENDFB6/K300/LEAD.IN AND WRITE /ENDFB6/K300/LEAD.OUT     Fixup   
                                                                         Fixup   
      THE FOLLOWING 21 INPUT LINES ARE REQUIRED.                         Fixup   
                                                                         Fixup   
      11111111111                                                        Fixup   
      /ENDFB6/K300/LEAD.IN                                               Fixup   
      /ENDFB6/K300/LEAD.OUT                                              Fixup   
      D900                                                               Fixup   
         4=( 51, 91)                                                     Fixup   
       103=(700,718)                                                     Fixup   
       104=(720,738)                                                     Fixup   
       105=(740,758)                                                     Fixup   
       106=(760,778)                                                     Fixup   
       107=(780,798)                                                     Fixup   
        16=(875,891)                                                     Fixup   
       101=(102,114)                                                     Fixup   
        18=( 19, 19)+( 20, 21)+( 38, 38)                                 Fixup   
        27=( 18, 18)+(101,101)                                           Fixup   
         3=(  4,  4)+(  6,  9)+( 16, 17)+( 22, 37)+( 41, 45)             Fixup   
        19=( 18, 18)-( 20, 21)-( 38, 38)                                 Fixup   
         1=(  2,  3)                                                     Fixup   
      T    (  1,  1)+(  4,  4)+( 18, 18)+( 91, 91)+(103,114)             Fixup   
      R254=(102/ 18)                                                     Fixup   
                   (BLANK LINE TO TERMINATE SUMMATION/DELETION RULES)    Fixup   
       2.00400+ 3 0.00000+ 0          0          01300254                Fixup   
       0.00000+ 0 0.00000+ 0          0          0                       Fixup   
                   (BLANK LINE TO TERMINATE SECTION CREATION RULES)      Fixup   
                                                                         Fixup   
      NOTE, THE DELETION AND THRESHOLD EXCLUSION LINES MAY APPEAR IN     Fixup   
      IN ANY ORDER. HOWEVER, SUMMATION AND RATIO RULES MUST APPEAR IN    Fixup   
      THE ORDER IN WHICH YOU WANT THEM TO BE EXECUTED - E.G., THE        Fixup   
      ABOVE INPUT WILL FIRST RECONSTRUCT MT=4, WHICH CAN THEN BE USED    Fixup   
      TO CONTRIBUTE TO THE FOLLOWING SUM TO DEFINE MT=3, WHICH IN TURN   Fixup   
      CAN THEN BE USED TO CONTRIBUTE TO THE FOLLOWING SUM TO DEFINE      Fixup   
      MT=1. IF THE ORDER OF THE INPUT LINES IS CHANGED SUCH THAT MT=3    Fixup   
      IS RECONSTRUCTED BEFORE MT=4, THE ORIGINAL MT=4 WILL BE USED IN    Fixup   
      THE SUMMATION TO DEFINE MT=3. THE SAME RULES APPLY TO CALCULATING  Fixup   
      RATIOS, IF EITHER THE NUMERATOR OR DENOMINATOR IS TO BE DEFINED    Fixup   
      BY SUMMATION, THIS SHOULD BE DONE BEFORE DEFINING THE RATIO BY     Fixup   
      INPUT PARAMETERS.                                                  Fixup   
                                                                         Fixup   
      EXAMPLE INPUT NO. 2                                                Fixup   
      ===================                                                Fixup   
      (1) USE OPTIONS 1-11 (ALL OPTIONS, EXCEPT INSERT ENERGY POINTS)    Fixup   
      (2) USE BUILT-IN TABLES FOR SUMMATION/DELETION/THRESHOLD EXCLUSION Fixup   
          (THIS ONLY REQUIRES COLUMNS 2, 4 AND 5 TO BE SET =2 ON THE     Fixup   
          FIRST INPUT LINE. THE BUILT-IN RULES EXACTLY CORRESPOND TO     Fixup   
          THE INPUT ABOVE UNDER EXAMPLE NO. 1, EXCEPT THAT NO MT NUMBERS Fixup   
          WILL BE DELETED.                                               Fixup   
      (3) IF NOT PRESENT, CREATE MAT=1300/MT=1                           Fixup   
                                                                         Fixup   
      USE THE STANDARD FILE NAMES ENDFB.IN AND ENDFB.OUT (THIS CAN BE    Fixup   
      DONE BY LEAVING THE SECOND AND THIRD INPUT LINES BLANK).           Fixup   
                                                                         Fixup   
      THE FOLLOWING 6 INPUT LINES ARE REQUIRED.                          Fixup   
                                                                         Fixup   
      12122111111                                                        Fixup   
                                                                         Fixup   
                                                                         Fixup   
       2.00400+ 3 0.00000+ 0          0          01300  1                Fixup   
       0.00000+ 0 0.00000+ 0          0          0                       Fixup   
                   (BLANK LINE TO TERMINATE SECTION CREATION RULES)      Fixup   
                                                                         Fixup   
      EXAMPLE INPUT NO. 3                                                Fixup   
      ===================                                                Fixup   
      (1) USE OPTIONS 1-10 (ALL OPTIONS PRESENTLY IMPLEMENTED, EXCEPT    Fixup   
          DO NOT ALLOW SECTION CREATION AND INSERT ENERGY POINTS).       Fixup   
      (2) USE BUILT-IN TABLES FOR SUMMATION/DELETION/THRESHOLD EXCLUSION Fixup   
          (THIS ONLY REQUIRES COLUMNS 2, 4 AND 5 TO BE SET =2 ON THE     Fixup   
          FIRST INPUT LINE. THE BUILT-IN RULES EXACTLY CORRESPOND TO     Fixup   
          THE INPUT ABOVE UNDER EXAMPLE NO. 1, EXCEPT THAT NO MT NUMBERS Fixup   
          WILL BE DELETED.                                               Fixup   
      (3) DO NOT CREATE ANY SECTIONS.                                    Fixup   
                                                                         Fixup   
      READ FILE /ENDFB6/K300/LEAD.IN AND WRITE /ENDFB6/K300/LEAD.OUT     Fixup   
                                                                         Fixup   
      THE FOLLOWING 3 INPUT LINES ARE REQUIRED.                          Fixup   
                                                                         Fixup   
      1212211111                                                         Fixup   
      /ENDFB6/K300/LEAD.IN                                               Fixup   
      /ENDFB6/K300/LEAD.OUT                                              Fixup   
                                                                         Fixup   
      EXAMPLE INPUT NO. 4                                                Fixup   
      ===================                                                Fixup   
      SAME AS EXAMPLE NO. 3, ABOVE, EXCEPT INSERT AN ENERGY POINT AT     Fixup   
      THERMAL FOR ALL REACTIONS WHICH SPAN THE THERMAL ENERGY RANGE.     Fixup   
                                                                         Fixup   
      USE THE STANDARD FILE NAMES ENDFB.IN AND ENDFB.OUT (THIS CAN BE    Fixup   
      DONE BY LEAVING THE SECOND AND THIRD INPUT LINES BLANK).           Fixup   
                                                                         Fixup   
      THE FOLLOWING 5 INPUT LINES ARE REQUIRED.                          Fixup   
                                                                         Fixup   
      121221111101                                                       Fixup   
                                                                         Fixup   
                                                                         Fixup   
       2.53000- 2   0  0                                                 Fixup   
                   (BLANK LINE TO TERMINATE ENERGY INSERTS)              Fixup   
                                                                         Fixup   
      WARNING                                                            Fixup   
      =======                                                            Fixup   
      ALTHOUGH THIS PROGRAM IS DESIGNED TO ALLOW REACTIONS TO BE DEFINED Fixup   
      BY ADDING OR SUBTRACTING REACTIONS THE USER SHOULD ALWAYS TRY TO   Fixup   
      DEFINE REACTIONS BY SUMMING TO AVOID NEGATIVE CROSS SECTIONS. FOR  Fixup   
      EXAMPLE, IT IS POSSIBLE TO CALCULATE MT=3 AND DEFINE MT=1 AS THE   Fixup   
      SUM OF MT=2 AND 3 (THE RECOMMENDED APPROACH AS USED IN THE ABOVE   Fixup   
      INPUT). ALTERATIVELY IT IS POSSIBLE TO CALCULATE MT=1 AND DEFINE   Fixup   
      MT=3 AS MT=1 MINUS MT=2 (THIS APPROACH IS NOT RECOMMENDED).        Fixup   
                                                                         Fixup   
      THE ONLY BUILT-IN SUMMATION RULE THAT USES SUBTRACTION IS THE      Fixup   
      CALCULATION OF THE FIRST CHANGE FISSION (MT=19) AS THE TOTAL       Fixup   
      FISSION (MT=18) MINUS THE SECOND, THIRD AND FOURTH CHANGE FISSION  Fixup   
      (MT=20, 21, 38). THIS HAS BEEN DONE TO ALLOW THE RESONANCE         Fixup   
      CONTRIBUTION, CALCULATED BY MANY CODES AND INCLUDED IN MT=18,      Fixup   
      TO BE CONSISTENTLY INCLUDED IN THE FIRST CHANCE FISSION.           Fixup   
                                                                         Fixup   
 ======================================================================= Fixup   
